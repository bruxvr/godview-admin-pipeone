<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard de Contas</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="header-left">
          <button class="sidebar-toggle" id="sidebarToggle">
            <i class="fas fa-bars"></i>
          </button>
          <h1 class="app-title">Dashboard de Contas</h1>
          <div class="mode-indicator admin" id="modeIndicator">
            <i class="fas fa-user-shield"></i>
            <span>Modo ADMIN</span>
          </div>
        </div>
        <div class="header-center">
          <div class="period-filter">
            <select class="form-control" id="periodFilter">
              <option value="1_mes" selected>1 M√™s</option>
              <option value="3_meses">3 Meses</option>
              <option value="6_meses">6 Meses</option>
              <option value="custom">Personalizado</option>
            </select>
            <button class="btn btn--primary" id="applyFilter">Aplicar</button>
          </div>
        </div>
        <div class="header-right">
          <div class="mode-toggle">
            <button
              class="btn btn--sm btn--outline mode-btn active"
              data-mode="admin"
            >
              Admin
            </button>
            <button
              class="btn btn--sm btn--outline mode-btn"
              data-mode="master"
            >
              Master
            </button>
          </div>
          <button class="header-btn" id="notificationBtn">
            <i class="fas fa-bell"></i>
            <span class="notification-badge">3</span>
          </button>
          <button class="header-btn" id="themeToggle">
            <i class="fas fa-moon"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <input
          type="text"
          class="form-control"
          id="searchAccounts"
          placeholder="Buscar contas..."
        />
        <div class="sidebar-controls">
          <button class="btn btn--sm btn--secondary" id="expandAll">
            <i class="fas fa-expand"></i> Expandir Tudo
          </button>
          <button class="btn btn--sm btn--secondary" id="collapseAll">
            <i class="fas fa-compress"></i> Recolher Tudo
          </button>
        </div>
      </div>
      <div class="sidebar-content">
        <div class="accounts-tree" id="accountsTree">
          <!-- √Årvore de contas ser√° inserida aqui -->
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Dashboard Page -->
      <div class="page" id="dashboardPage">
        <div class="page-header">
          <h2>Dashboard</h2>
        </div>

        <!-- Metrics Cards -->
        <div class="metrics-grid">
          <div class="card metric-card">
            <div class="card__body">
              <div class="metric-header">
                <h3>Total de Contas</h3>
                <i class="fas fa-users metric-icon"></i>
              </div>
              <div class="metric-value">
                <span class="metric-number" id="metricContas">10</span>
                <span class="metric-change positive" id="metricContasChange"
                  >+2%</span
                >
              </div>
            </div>
          </div>

          <div class="card metric-card">
            <div class="card__body">
              <div class="metric-header">
                <h3>Erros do M√™s</h3>
                <i class="fas fa-exclamation-triangle metric-icon"></i>
              </div>
              <div class="metric-value">
                <span class="metric-number" id="metricErros">120</span>
                <span class="metric-change negative" id="metricErrosChange"
                  >-5%</span
                >
              </div>
            </div>
          </div>

          <div class="card metric-card">
            <div class="card__body">
              <div class="metric-header">
                <h3>MTMO Total</h3>
                <i class="fas fa-chart-line metric-icon"></i>
              </div>
              <div class="metric-value">
                <span class="metric-number" id="metricMtmo">12.3K</span>
                <span class="metric-change positive" id="metricMtmoChange"
                  >+10%</span
                >
              </div>
            </div>
          </div>

          <div class="card metric-card">
            <div class="card__body">
              <div class="metric-header">
                <h3>Canais Ativos</h3>
                <i class="fas fa-plug metric-icon"></i>
              </div>
              <div class="metric-value">
                <span class="metric-number" id="metricCanais">22</span>
                <span class="metric-change neutral">0%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Charts -->
        <div class="charts-grid">
          <div class="card chart-card">
            <div class="card__body">
              <div class="chart-header">
                <h3>Erros MT/MO por Dia</h3>
                <select
                  class="form-control chart-filter"
                  id="chartCompanyFilter"
                >
                  <option value="">Empresas</option>
                </select>
              </div>
              <canvas id="errorsChart"></canvas>
            </div>
          </div>

          <div class="card chart-card">
            <div class="card__body">
              <h3>Contas Ativas por Canal</h3>
              <canvas id="channelsChart"></canvas>
            </div>
          </div>
        </div>

        <!-- Companies Overview Table -->
        <div class="card">
          <div class="card__body">
            <div class="table-header">
              <h3>Informa√ß√µes das Empresas</h3>
              <div class="table-controls">
                <input
                  type="text"
                  class="form-control"
                  id="searchCompanies"
                  placeholder="üîç Buscar empresas..."
                />
                <select class="form-control" id="filterCompanyStatus">
                  <option value="">üìä Status</option>
                  <option value="ATIVO">‚úÖ Ativo</option>
                  <option value="INATIVO">‚ùå Inativo</option>
                </select>
                <button class="btn btn--secondary" id="exportCompanies">
                  <i class="fas fa-download"></i> Exportar
                </button>
                <button class="btn btn--primary" id="createCompany">
                  <i class="fas fa-plus"></i> Criar Conta
                </button>
              </div>
            </div>
            <div class="table-container">
              <table class="data-table" id="companiesTable">
                <thead>
                  <tr>
                    <th>
                      <input type="checkbox" id="selectAllCompanies" />
                    </th>
                    <th>Nome</th>
                    <th>ID da Empresa</th>
                    <th>Status</th>
                    <th>Usu√°rios</th>
                    <th>Canais</th>
                    <th>Atividade</th>
                    <th>A√ß√µes</th>
                  </tr>
                </thead>
                <tbody id="companiesTableBody">
                  <!-- Dados ser√£o inseridos aqui -->
                </tbody>
              </table>
            </div>
            <div class="pagination" id="companiesPagination">
              <!-- Pagina√ß√£o ser√° inserida aqui -->
            </div>
          </div>
        </div>

        <!-- Ranking Table -->
        <div class="card">
          <div class="card__body">
            <div class="table-header">
              <h3>Ranking de Contas</h3>
              <div class="table-controls">
                <input
                  type="text"
                  class="form-control"
                  id="searchRanking"
                  placeholder="üîç Buscar contas..."
                />
                <select class="form-control" id="filterType">
                  <option value="">üè¢ Tipos</option>
                  <option value="Enterprise">üèõÔ∏è Enterprise</option>
                  <option value="Department">üè¨ Department</option>
                  <option value="Team">üë• Team</option>
                  <option value="Startup">üöÄ Startup</option>
                  <option value="Individual">üë§ Individual</option>
                </select>
                <select class="form-control" id="filterStatus">
                  <option value="">üìä Status</option>
                  <option value="Active">‚úÖ Ativo</option>
                  <option value="Trial">üîÑ Trial</option>
                  <option value="Suspended">‚è∏Ô∏è Suspenso</option>
                  <option value="Limited">‚ö†Ô∏è Limitado</option>
                </select>
                <button class="btn btn--secondary" id="exportRanking">
                  <i class="fas fa-download"></i> Exportar
                </button>
              </div>
            </div>
            <div class="table-container">
              <table class="data-table" id="rankingTable">
                <thead>
                  <tr>
                    <th>Conta</th>
                    <th>Tipo</th>
                    <th>Status</th>
                    <th>Contatos</th>
                    <th>MTMO</th>
                    <th>A√ß√µes</th>
                  </tr>
                </thead>
                <tbody id="rankingTableBody">
                  <!-- Dados ser√£o inseridos aqui -->
                </tbody>
              </table>
            </div>
            <div class="pagination" id="rankingPagination">
              <!-- Pagina√ß√£o ser√° inserida aqui -->
            </div>
          </div>
        </div>

        <!-- API Errors Table -->
        <div class="card restricted-content" data-mode-restriction="master">
          <div class="card__body">
            <div class="table-header">
              <h3>Erros de API por Endpoint</h3>
              <div class="table-controls">
                <select class="form-control" id="filterErrorType">
                  <option value="">üîß Tipos</option>
                  <option value="timeout">‚è±Ô∏è Timeout</option>
                  <option value="payload">üì¶ Payload</option>
                  <option value="autenticacao">üîê Autentica√ß√£o</option>
                </select>
                <select class="form-control" id="filterErrorStatus">
                  <option value="">üìä Status</option>
                  <option value="normal">‚úÖ Normal</option>
                  <option value="warning">‚ö†Ô∏è Warning</option>
                  <option value="critical">üö® Critical</option>
                </select>
              </div>
            </div>
            <div class="table-container">
              <table class="data-table" id="apiErrorsTable">
                <thead>
                  <tr>
                    <th>Endpoint</th>
                    <th>Tipo</th>
                    <th>Status</th>
                    <th>Quantidade</th>
                    <th>√öltimo Erro</th>
                  </tr>
                </thead>
                <tbody id="apiErrorsTableBody">
                  <!-- Dados ser√£o inseridos aqui -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Message Logs -->
        <div class="card restricted-content" data-mode-restriction="master">
          <div class="card__body">
            <div class="table-header">
              <h3>Pesquisa de Logs</h3>
              <div class="table-controls">
                <input
                  type="text"
                  class="form-control"
                  id="searchLogsById"
                  placeholder="üîç Buscar por ID..."
                />
                <input
                  type="date"
                  class="form-control"
                  id="filterLogDate"
                  title="Filtrar por data"
                />
                <select class="form-control" id="filterLogType">
                  <option value="">üìù Tipos</option>
                  <option value="incoming">üì• Entrada</option>
                  <option value="outgoing">üì§ Sa√≠da</option>
                </select>
                <select class="form-control" id="filterLogChannel">
                  <option value="">üì± Canais</option>
                  <option value="WhatsApp">üí¨ WhatsApp</option>
                  <option value="Instagram">üì∏ Instagram</option>
                  <option value="Telegram">‚úàÔ∏è Telegram</option>
                </select>
                <button class="btn btn--secondary" id="exportLogs">
                  <i class="fas fa-download"></i> Exportar
                </button>
              </div>
            </div>
            <div class="table-container">
              <table class="data-table" id="logsTable">
                <thead>
                  <tr>
                    <th>Timestamp</th>
                    <th>Tipo</th>
                    <th>Canal</th>
                    <th>Cliente ID</th>
                    <th>Conta</th>
                    <th>Mensagem</th>
                  </tr>
                </thead>
                <tbody id="logsTableBody">
                  <!-- Dados ser√£o inseridos aqui -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Recent Activities -->
        <div class="card">
          <div class="card__body">
            <h3>Atividades Recentes</h3>
            <div class="timeline" id="recentActivities">
              <!-- Atividades ser√£o inseridas aqui -->
            </div>
          </div>
        </div>
      </div>

      <!-- Account Detail Page -->
      <div class="page hidden" id="accountDetailPage">
        <div class="page-header">
          <div class="breadcrumb">
            <button class="btn btn--sm btn--secondary" id="backToDashboard">
              <i class="fas fa-arrow-left"></i> Voltar ao Dashboard
            </button>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current" id="accountBreadcrumb"
              >Detalhes da Conta</span
            >
          </div>
          <div class="action-bar">
            <button class="btn btn--primary" id="generateReport">
              <i class="fas fa-file-alt"></i> Gerar Relat√≥rio
            </button>
            <button class="btn btn--secondary" id="createUser">
              <i class="fas fa-user-plus"></i> Criar Usu√°rio
            </button>
            <button class="btn btn--secondary" id="createSubaccount">
              <i class="fas fa-plus"></i> Criar Subconta
            </button>
          </div>
        </div>

        <div class="account-detail-grid">
          <!-- Account Info and Edit Form Side by Side -->
          <div class="account-main-info">
            <div class="card">
              <div class="card__body">
                <h3>Informa√ß√µes Principais</h3>
                <div class="info-grid">
                  <div class="info-item">
                    <label>Nome da Empresa</label>
                    <span id="detailAccountName">-</span>
                  </div>
                  <div class="info-item">
                    <label>ID da Empresa</label>
                    <span id="detailAccountId">-</span>
                  </div>
                  <div class="info-item">
                    <label>Status</label>
                    <span class="status" id="detailAccountStatus">-</span>
                  </div>
                  <div class="info-item">
                    <label>Usu√°rios (Online/Total)</label>
                    <span id="detailUsers">-</span>
                  </div>
                  <div class="info-item">
                    <label>Conversas Abertas</label>
                    <span id="detailConversations">-</span>
                  </div>
                  <div class="info-item">
                    <label>Bulks Realizados</label>
                    <span id="detailBulks">-</span>
                  </div>
                  <div class="info-item">
                    <label>Bulk Restantes</label>
                    <span id="detailBulkRemaining">-</span>
                  </div>
                  <div class="info-item">
                    <label>Mensagens Enviadas</label>
                    <span id="detailMessagesSent">-</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Edit Form -->
          <div class="account-edit-form">
            <div class="card">
              <div class="card__body">
                <h3>Editar Conta</h3>
                <form id="editAccountForm">
                  <div class="form-group">
                    <label class="form-label">Nome da Empresa</label>
                    <input
                      type="text"
                      class="form-control"
                      id="editName"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label">ID da Empresa</label>
                    <input
                      type="text"
                      class="form-control"
                      id="editId"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label">Status</label>
                    <select class="form-control" id="editStatus">
                      <option value="Active">Ativo</option>
                      <option value="Suspended">Suspenso</option>
                      <option value="Trial">Trial</option>
                      <option value="Limited">Limitado</option>
                    </select>
                  </div>
                  <button type="submit" class="btn btn--primary">
                    Salvar Altera√ß√µes
                  </button>
                </form>
              </div>
            </div>
          </div>

          <!-- Channels Integration -->
          <div class="channels-section">
            <div class="card">
              <div class="card__body">
                <h3>Canais de Integra√ß√£o</h3>
                <div class="channels-grid" id="channelsGrid">
                  <!-- Canais ser√£o inseridos aqui -->
                </div>
              </div>
            </div>
          </div>

          <!-- Users Management -->
          <div class="users-section">
            <div class="card">
              <div class="card__body">
                <div class="section-header">
                  <h3>Gest√£o de Usu√°rios</h3>
                  <button class="btn btn--primary" id="openUserModal">
                    <i class="fas fa-user-plus"></i> Adicionar Usu√°rio
                  </button>
                </div>
                <div class="table-container">
                  <table class="data-table" id="usersTable">
                    <thead>
                      <tr>
                        <th>Nome</th>
                        <th>Email</th>
                        <th>Cargo</th>
                        <th>√öltimo Login</th>
                        <th>Status</th>
                        <th>A√ß√µes</th>
                      </tr>
                    </thead>
                    <tbody id="usersTableBody">
                      <!-- Usu√°rios ser√£o inseridos aqui -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- Subaccounts -->
          <div class="subaccounts-section">
            <div class="card">
              <div class="card__body">
                <div class="section-header">
                  <h3>Subcontas</h3>
                  <button class="btn btn--primary" id="openSubaccountModal">
                    <i class="fas fa-plus"></i> Criar Subconta
                  </button>
                </div>
                <div class="table-container">
                  <table class="data-table" id="subaccountsTable">
                    <thead>
                      <tr>
                        <th>Nome</th>
                        <th>Tipo</th>
                        <th>Status</th>
                        <th>Contatos</th>
                        <th>MTMO</th>
                        <th>A√ß√µes</th>
                      </tr>
                    </thead>
                    <tbody id="subaccountsTableBody">
                      <!-- Subcontas ser√£o inseridas aqui -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- Account Timeline -->
          <div class="account-timeline">
            <div class="card">
              <div class="card__body">
                <h3>Atividades da Conta</h3>
                <div class="timeline" id="accountTimeline">
                  <!-- Atividades ser√£o inseridas aqui -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Subaccount Detail Page -->
      <div class="page hidden" id="subaccountDetailPage">
        <div class="page-header">
          <div class="breadcrumb">
            <button class="btn btn--sm btn--secondary" id="backToAccount">
              <i class="fas fa-arrow-left"></i> Voltar √† Conta
            </button>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current" id="subaccountBreadcrumb"
              >Detalhes da Subconta</span
            >
          </div>
        </div>

        <div class="subaccount-detail-grid">
          <!-- Subaccount Info and Edit Form Side by Side -->
          <div class="subaccount-main-info">
            <div class="card">
              <div class="card__body">
                <h3>Informa√ß√µes da Subconta</h3>
                <div class="info-grid">
                  <div class="info-item">
                    <label>Nome</label>
                    <span id="subaccountName">-</span>
                  </div>
                  <div class="info-item">
                    <label>Tipo</label>
                    <span id="subaccountType">-</span>
                  </div>
                  <div class="info-item">
                    <label>Status</label>
                    <span id="subaccountStatus">-</span>
                  </div>
                  <div class="info-item">
                    <label>Contatos</label>
                    <span id="subaccountContacts">-</span>
                  </div>
                  <div class="info-item">
                    <label>MTMO</label>
                    <span id="subaccountMtmo">-</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Edit Subaccount Form -->
          <div class="subaccount-edit-form">
            <div class="card">
              <div class="card__body">
                <h3>Editar Subconta</h3>
                <form id="editSubaccountForm">
                  <div class="form-group">
                    <label class="form-label">Nome da Subconta</label>
                    <input
                      type="text"
                      class="form-control"
                      id="editSubaccountName"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label">Tipo</label>
                    <select class="form-control" id="editSubaccountType">
                      <option value="Department">Department</option>
                      <option value="Team">Team</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Status</label>
                    <select class="form-control" id="editSubaccountStatus">
                      <option value="Active">Ativo</option>
                      <option value="Suspended">Suspenso</option>
                      <option value="Limited">Limitado</option>
                    </select>
                  </div>
                  <button type="submit" class="btn btn--primary">
                    Salvar Altera√ß√µes
                  </button>
                </form>
              </div>
            </div>
          </div>

          <!-- Subaccount Channels -->
          <div class="subaccount-channels">
            <div class="card">
              <div class="card__body">
                <h3>Canais de Integra√ß√£o</h3>
                <div class="channels-grid" id="subaccountChannelsGrid">
                  <!-- Canais da subconta ser√£o inseridos aqui -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Modals -->
    <div class="modal-overlay" id="modalOverlay">
      <!-- Create User Modal -->
      <div class="modal hidden" id="createUserModal">
        <div class="modal-header">
          <h3>Criar Usu√°rio</h3>
          <button class="modal-close" id="closeModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <form id="createUserForm">
            <div class="form-group">
              <label class="form-label">Nome</label>
              <input type="text" class="form-control" id="userName" required />
            </div>
            <div class="form-group">
              <label class="form-label">Email</label>
              <input
                type="email"
                class="form-control"
                id="userEmail"
                required
              />
            </div>
            <div class="form-group">
              <label class="form-label">Cargo</label>
              <select class="form-control" id="userRole">
                <option value="Admin">Admin</option>
                <option value="Manager">Manager</option>
                <option value="User">Usu√°rio</option>
              </select>
            </div>
            <div class="modal-actions">
              <button type="button" class="btn btn--secondary" id="cancelModal">
                Cancelar
              </button>
              <button type="submit" class="btn btn--primary">Criar</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Create Subaccount Modal -->
      <div class="modal modal-medium hidden" id="createSubaccountModal">
        <div class="modal-header">
          <h3>Criar Subconta</h3>
          <button class="modal-close" id="closeSubaccountModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <form id="createSubaccountForm">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Nome da Subconta *</label>
                <input
                  type="text"
                  class="form-control"
                  id="subaccountNameInput"
                  placeholder="Digite o nome da subconta"
                  required
                />
              </div>
              <div class="form-group">
                <label class="form-label">Tipo *</label>
                <select class="form-control" id="subaccountTypeInput">
                  <option value="Department">Department</option>
                  <option value="Team">Team</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Descri√ß√£o</label>
              <textarea
                class="form-control"
                id="subaccountDescription"
                rows="3"
                placeholder="Descreva o prop√≥sito e responsabilidades desta subconta"
              ></textarea>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Respons√°vel</label>
                <input
                  type="text"
                  class="form-control"
                  id="subaccountResponsible"
                  placeholder="Nome do respons√°vel pela subconta"
                />
              </div>
              <div class="form-group">
                <label class="form-label">Email de Contato</label>
                <input
                  type="email"
                  class="form-control"
                  id="subaccountEmail"
                  placeholder="email@exemplo.com"
                />
              </div>
            </div>

            <div class="form-info">
              <p class="info-text">
                <i class="fas fa-info-circle"></i>
                A subconta ser√° criada com status ativo e todos os canais
                desconectados. Voc√™ poder√° configurar os canais e adicionar
                usu√°rios ap√≥s a cria√ß√£o.
              </p>
            </div>

            <div class="modal-actions">
              <button
                type="button"
                class="btn btn--secondary"
                id="cancelSubaccountModal"
              >
                Cancelar
              </button>
              <button type="submit" class="btn btn--primary">
                <i class="fas fa-plus"></i> Criar Subconta
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Manage Users Modal -->
      <div class="modal modal-large hidden" id="manageUsersModal">
        <div class="modal-header">
          <h3>Gerenciar Usu√°rios - <span id="companyNameHeader"></span></h3>
          <button class="modal-close" id="closeManageUsersModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="users-management-content">
            <!-- Add User Section -->
            <div class="add-user-section">
              <h4>Convidar Usu√°rio</h4>
              <form id="inviteUserForm" class="invite-user-form">
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Email</label>
                    <input
                      type="email"
                      class="form-control"
                      id="inviteUserEmail"
                      placeholder="usuario@email.com"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label">Cargo</label>
                    <select class="form-control" id="inviteUserRole">
                      <option value="admin">Admin</option>
                      <option value="manager">Manager</option>
                      <option value="agent">Agent</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <button type="submit" class="btn btn--primary">
                      <i class="fas fa-user-plus"></i> Convidar
                    </button>
                  </div>
                </div>
              </form>
            </div>

            <!-- Users List Section -->
            <div class="users-list-section">
              <h4>Usu√°rios da Empresa</h4>
              <div class="table-container">
                <table class="data-table" id="manageUsersTable">
                  <thead>
                    <tr>
                      <th>Nome</th>
                      <th>Email</th>
                      <th>Cargo</th>
                      <th>Status</th>
                      <th>√öltimo Login</th>
                      <th>A√ß√µes</th>
                    </tr>
                  </thead>
                  <tbody id="manageUsersTableBody">
                    <!-- Usu√°rios ser√£o inseridos aqui -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Edit User Modal -->
      <div class="modal hidden" id="editUserModal">
        <div class="modal-header">
          <h3>Editar Usu√°rio</h3>
          <button class="modal-close" id="closeEditUserModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <form id="editUserForm">
            <div class="form-group">
              <label class="form-label">Nome</label>
              <input
                type="text"
                class="form-control"
                id="editUserName"
                required
                readonly
              />
            </div>
            <div class="form-group">
              <label class="form-label">Email</label>
              <input
                type="email"
                class="form-control"
                id="editUserEmail"
                required
                readonly
              />
            </div>
            <div class="form-group">
              <label class="form-label">Cargo</label>
              <select class="form-control" id="editUserRole">
                <option value="admin">Admin</option>
                <option value="manager">Manager</option>
                <option value="agent">Agent</option>
              </select>
            </div>
            <div class="modal-actions">
              <button
                type="button"
                class="btn btn--secondary"
                id="cancelEditUser"
              >
                Cancelar
              </button>
              <button type="submit" class="btn btn--primary">Salvar</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Account Settings Modal -->
      <div class="modal modal-medium hidden" id="accountSettingsModal">
        <div class="modal-header">
          <h3>
            Configura√ß√µes da Conta - <span id="accountSettingsTitle"></span>
          </h3>
          <button class="modal-close" id="closeAccountSettingsModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <form id="accountSettingsForm">
            <div class="settings-content">
              <!-- Basic Information Section -->
              <div class="settings-section">
                <h4>Informa√ß√µes B√°sicas</h4>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Nome da Empresa</label>
                    <input
                      type="text"
                      class="form-control"
                      id="settingsAccountName"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label">Tipo de Conta</label>
                    <select class="form-control" id="settingsAccountType">
                      <option value="Enterprise">Enterprise</option>
                      <option value="Department">Department</option>
                      <option value="Team">Team</option>
                      <option value="Startup">Startup</option>
                      <option value="Individual">Individual</option>
                    </select>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Status da Conta</label>
                    <select class="form-control" id="settingsAccountStatus">
                      <option value="Active">Ativo</option>
                      <option value="Trial">Trial</option>
                      <option value="Suspended">Suspenso</option>
                      <option value="Limited">Limitado</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="form-label">ID da Empresa</label>
                    <input
                      type="text"
                      class="form-control"
                      id="settingsAccountId"
                      readonly
                    />
                  </div>
                </div>
              </div>

              <!-- Account Image Section -->
              <div class="settings-section">
                <h4>Imagem da Conta</h4>
                <div class="image-upload-section">
                  <div class="current-image">
                    <img
                      id="currentAccountImage"
                      src="https://via.placeholder.com/100x100/21808D/FFFFFF?text=IMG"
                      alt="Imagem da conta"
                    />
                  </div>
                  <div class="image-controls">
                    <input
                      type="file"
                      id="accountImageInput"
                      accept="image/*"
                      style="display: none"
                    />
                    <button
                      type="button"
                      class="btn btn--secondary"
                      id="uploadImageBtn"
                    >
                      <i class="fas fa-upload"></i> Alterar Imagem
                    </button>
                    <button
                      type="button"
                      class="btn btn--outline"
                      id="removeImageBtn"
                    >
                      <i class="fas fa-trash"></i> Remover
                    </button>
                  </div>
                </div>
              </div>

              <!-- Messaging Limits Section -->
              <div class="settings-section">
                <h4>Limites de Mensagens</h4>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Limite de Bulk Mensal</label>
                    <input
                      type="number"
                      class="form-control"
                      id="settingsBulkLimit"
                      min="0"
                      placeholder="1000"
                    />
                    <small class="form-help"
                      >N√∫mero m√°ximo de mensagens em bulk por m√™s</small
                    >
                  </div>
                  <div class="form-group">
                    <label class="form-label">Limite Di√°rio de Mensagens</label>
                    <input
                      type="number"
                      class="form-control"
                      id="settingsDailyLimit"
                      min="0"
                      placeholder="500"
                    />
                    <small class="form-help"
                      >N√∫mero m√°ximo de mensagens por dia</small
                    >
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Limite de Contatos</label>
                    <input
                      type="number"
                      class="form-control"
                      id="settingsContactLimit"
                      min="0"
                      placeholder="10000"
                    />
                    <small class="form-help"
                      >N√∫mero m√°ximo de contatos na base</small
                    >
                  </div>
                  <div class="form-group">
                    <label class="form-label">Limite de Usu√°rios</label>
                    <input
                      type="number"
                      class="form-control"
                      id="settingsUserLimit"
                      min="1"
                      placeholder="50"
                    />
                    <small class="form-help"
                      >N√∫mero m√°ximo de usu√°rios na conta</small
                    >
                  </div>
                </div>
              </div>

              <!-- Billing Information Section -->
              <div class="settings-section">
                <h4>Informa√ß√µes de Cobran√ßa</h4>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Plano Atual</label>
                    <select class="form-control" id="settingsPlan">
                      <option value="basic">B√°sico</option>
                      <option value="standard">Standard</option>
                      <option value="premium">Premium</option>
                      <option value="enterprise">Enterprise</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Data de Vencimento</label>
                    <input
                      type="date"
                      class="form-control"
                      id="settingsBillingDate"
                    />
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Valor Mensal (R$)</label>
                    <input
                      type="number"
                      class="form-control"
                      id="settingsMonthlyValue"
                      min="0"
                      step="0.01"
                      placeholder="99.90"
                    />
                  </div>
                  <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                      <input type="checkbox" id="settingsAutoRenewal" />
                      <span class="checkmark"></span>
                      Renova√ß√£o Autom√°tica
                    </label>
                  </div>
                </div>
              </div>

              <!-- Additional Settings Section -->
              <div class="settings-section">
                <h4>Configura√ß√µes Adicionais</h4>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Timezone</label>
                    <select class="form-control" id="settingsTimezone">
                      <option value="America/Sao_Paulo">
                        S√£o Paulo (GMT-3)
                      </option>
                      <option value="America/New_York">New York (GMT-5)</option>
                      <option value="Europe/London">London (GMT+0)</option>
                      <option value="Asia/Tokyo">Tokyo (GMT+9)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Idioma</label>
                    <select class="form-control" id="settingsLanguage">
                      <option value="pt-BR">Portugu√™s (Brasil)</option>
                      <option value="en-US">English (US)</option>
                      <option value="es-ES">Espa√±ol</option>
                    </select>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                      <input type="checkbox" id="settingsNotifications" />
                      <span class="checkmark"></span>
                      Receber notifica√ß√µes por email
                    </label>
                  </div>
                  <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                      <input type="checkbox" id="settingsAnalytics" />
                      <span class="checkmark"></span>
                      Permitir an√°lise de dados
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <div class="modal-actions">
              <button
                type="button"
                class="btn btn--secondary"
                id="cancelAccountSettings"
              >
                Cancelar
              </button>
              <button type="submit" class="btn btn--primary">
                <i class="fas fa-save"></i> Salvar Configura√ß√µes
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Create Company Modal -->
      <div class="modal modal-large hidden" id="createCompanyModal">
        <div class="modal-header">
          <h3>Criar Nova Conta</h3>
          <button class="modal-close" id="closeCreateCompanyModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <form id="createCompanyForm">
            <div class="create-company-content">
              <!-- Basic Information Section -->
              <div class="form-section">
                <h4>Informa√ß√µes B√°sicas</h4>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Nome da Empresa *</label>
                    <input
                      type="text"
                      class="form-control"
                      id="createCompanyName"
                      placeholder="Digite o nome da empresa"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label">Tipo de Conta *</label>
                    <select
                      class="form-control"
                      id="createCompanyType"
                      required
                    >
                      <option value="">Selecione o tipo</option>
                      <option value="Enterprise">Enterprise</option>
                      <option value="Department">Department</option>
                      <option value="Team">Team</option>
                      <option value="Startup">Startup</option>
                      <option value="Individual">Individual</option>
                    </select>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Status Inicial</label>
                    <select class="form-control" id="createCompanyStatus">
                      <option value="Active">Ativo</option>
                      <option value="Trial">Trial</option>
                      <option value="Suspended">Suspenso</option>
                      <option value="Limited">Limitado</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Email Principal</label>
                    <input
                      type="email"
                      class="form-control"
                      id="createCompanyEmail"
                      placeholder="contato@empresa.com"
                    />
                  </div>
                </div>
              </div>

              <!-- Account Limits Section -->
              <div class="form-section">
                <h4>Limites da Conta</h4>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Limite de Bulk Mensal</label>
                    <input
                      type="number"
                      class="form-control"
                      id="createBulkLimit"
                      min="0"
                      value="1000"
                      placeholder="1000"
                    />
                    <small class="form-help"
                      >N√∫mero m√°ximo de mensagens em bulk por m√™s</small
                    >
                  </div>
                  <div class="form-group">
                    <label class="form-label">Limite Di√°rio de Mensagens</label>
                    <input
                      type="number"
                      class="form-control"
                      id="createDailyLimit"
                      min="0"
                      value="500"
                      placeholder="500"
                    />
                    <small class="form-help"
                      >N√∫mero m√°ximo de mensagens por dia</small
                    >
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Limite de Contatos</label>
                    <input
                      type="number"
                      class="form-control"
                      id="createContactLimit"
                      min="0"
                      value="10000"
                      placeholder="10000"
                    />
                    <small class="form-help"
                      >N√∫mero m√°ximo de contatos na base</small
                    >
                  </div>
                  <div class="form-group">
                    <label class="form-label">Limite de Usu√°rios</label>
                    <input
                      type="number"
                      class="form-control"
                      id="createUserLimit"
                      min="1"
                      value="25"
                      placeholder="25"
                    />
                    <small class="form-help"
                      >N√∫mero m√°ximo de usu√°rios na conta</small
                    >
                  </div>
                </div>
              </div>

              <!-- Administrative Settings Section -->
              <div class="form-section">
                <h4>Configura√ß√µes Administrativas</h4>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Nome do Administrador</label>
                    <input
                      type="text"
                      class="form-control"
                      id="createAdminName"
                      placeholder="Nome do administrador"
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label">Email do Administrador</label>
                    <input
                      type="email"
                      class="form-control"
                      id="createAdminEmail"
                      placeholder="admin@empresa.com"
                    />
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Cargo do Administrador</label>
                    <select class="form-control" id="createAdminRole">
                      <option value="Administrador">Administrador</option>
                      <option value="Gerente">Gerente</option>
                      <option value="Supervisor">Supervisor</option>
                      <option value="Coordenador">Coordenador</option>
                      <option value="Diretor">Diretor</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Fuso Hor√°rio</label>
                    <select class="form-control" id="createTimezone">
                      <option value="America/Sao_Paulo">
                        S√£o Paulo (GMT-3)
                      </option>
                      <option value="America/New_York">New York (GMT-5)</option>
                      <option value="Europe/London">London (GMT+0)</option>
                      <option value="Asia/Tokyo">Tokyo (GMT+9)</option>
                    </select>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Idioma</label>
                    <select class="form-control" id="createLanguage">
                      <option value="pt-BR">Portugu√™s (Brasil)</option>
                      <option value="en-US">English (US)</option>
                      <option value="es-ES">Espa√±ol</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="form-info">
                <p class="info-text">
                  <i class="fas fa-info-circle"></i>
                  A conta ser√° criada com todos os canais desconectados. O
                  administrador principal receber√° um email de boas-vindas com
                  instru√ß√µes para configurar a conta.
                </p>
              </div>
            </div>

            <div class="modal-actions">
              <button
                type="button"
                class="btn btn--secondary"
                id="cancelCreateCompany"
              >
                Cancelar
              </button>
              <button type="submit" class="btn btn--primary">
                <i class="fas fa-plus"></i> Criar Conta
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel">
      <div class="notification-header">
        <h3>Notifica√ß√µes</h3>
        <button class="btn btn--sm btn--secondary" id="markAllRead">
          Marcar todas como lidas
        </button>
      </div>
      <div class="notification-list" id="notificationList">
        <!-- Notifica√ß√µes ser√£o inseridas aqui -->
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
  </body>
</html>
